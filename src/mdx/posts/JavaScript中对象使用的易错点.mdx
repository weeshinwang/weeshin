---
title: "JavaScriptä¸­å¯¹è±¡ä½¿ç”¨çš„æ˜“é”™ç‚¹"
displayTitle: "JavaScript ä¸­å¯¹è±¡ä½¿ç”¨çš„æ˜“é”™ç‚¹"
date: 2022-06-10
lastmod: 2022-06-10
draft: false
tags: [javascript]
categories: [ç¼–ç¨‹æŠ€æœ¯]
type: "post"
---

## `Object.assign()` vs. `Object.create()`

ğŸš© `Object.assign()` æ˜¯å°†å¯æšä¸¾çš„å’Œè‡ªæœ‰çš„å±æ€§ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡ä¸­å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›ä¿®æ”¹çš„å¯¹è±¡ã€‚

```js
const target = { a: 1, b: 2 }
const source = { b: 4, c: 5 }

const returnedTarget = Object.assign(target, source)

console.log(target)
// expected output: Object { a: 1, b: 4, c: 5 }

console.log(returnedTarget)
// expected output: Object { a: 1, b: 4, c: 5 }
```

- æ­¤æ–¹æ³•ä¸å¯å¤åˆ¶åŸå‹é“¾ä¸Šçš„å±æ€§ï¼›
- æ­¤æ–¹æ³•ä¸å¯å¤åˆ¶ä¸å¯æšä¸¾çš„å±æ€§ï¼›
- æ­¤æ–¹æ³•ä¸ä¼šæ·±æ‹·è´åµŒå¥—å¯¹è±¡ï¼›

```JS {6-7,10-11}
let obj1 = { a: 0 , b: { c: 0}};
let obj2 = Object.assign({}, obj1);
console.log(JSON.stringify(obj2)); // { "a": 0, "b": { "c": 0}}

obj1.a = 1;
console.log(JSON.stringify(obj1)); // { "a": 1, "b": { "c": 0}}
console.log(JSON.stringify(obj2)); // { "a": 0, "b": { "c": 0}}

obj2.b.c = 3;
console.log(JSON.stringify(obj1)); // { "a": 1, "b": { "c": 3}}
console.log(JSON.stringify(obj2)); // { "a": 2, "b": { "c": 3}}
```

ğŸš© `Object.create()` åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†æä¾›çš„å¯¹è±¡ä½œä¸ºæ–°åˆ›å»ºå¯¹çš„ `__proto__`.

```JS {10-15}
const person = {
  isHuman: false,
  printIntroduction: function() {
    console.log(`My name is ${this.name}. Am I human? ${this.isHuman}`);
  }
};

const me = Object.create (person);

me.__proto__ == Object.getPrototypeOf (me) // true
me.__proto__ == person.prototype // false
me.__proto__ == person // true

person.a = 123
console.log(me.a) // 123
```

## `prototype` å’Œ `__proto__` çš„åŒºåˆ«

æ¯ä¸€ä¸ª JavaScript å‡½æ•°éƒ½æœ‰ä¸€ä¸ª `prototype` å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªåŒ…å«æœ‰ `constructor` å±æ€§çš„å¯¹è±¡ï¼Œè¿™ä¸ª `constructor` å±æ€§æŒ‡å‘å‡½æ•°æœ¬èº«ï¼Œä¾‹å¦‚ï¼š

```js {3}
function fun() {}
console.log(fun.prototype) // Object {...}ï¼Œä¸æ˜¯åŸå§‹çš„å¯¹è±¡åŸå‹
console.log(fun.prototype.constructor == fun) // true
```

è€Œ `__proto__` å±æ€§æ˜¯åœ¨åŸå‹é“¾ä¸Šå¯»æ‰¾è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä¾‹å¦‚ï¼š

```JS {4}
fun.__proto__ // function()
fun.__proto__ == Function.prototype // true
fun.prototype.__proto__ == Object.prototype // true
fun.__proto__.__proto__ // Object {...}ï¼Œæœ€é¡¶å±‚å¯ç»§æ‰¿çš„å¯¹è±¡åŸå‹
fun.__proto__.__proto__.__proto__ // null
```
